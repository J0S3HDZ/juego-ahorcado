function activateConfetti(){party.confetti(document.getElementById("win"),{count:100,spread:1e3})}var rValue,auxLinea,arr=[],intentos=10,sel=[],ctrl=!1,badWord=[],match=0,clickeados=[],streak=0;function playind(){let e=document.querySelectorAll("#menubtn");e.forEach(e=>{e.disabled=!1}),match=1,document.getElementById("intent").innerHTML="<i class='fa-solid fa-heart'></i> "+intentos+"<span class='bubble-text'>Intentos</span>",fetch("words/es.json").then(e=>e.json()).then(e=>{let t=e[Math.floor(Math.random()*e.length)].toUpperCase();rValue=t=t.replace(/[ÁÉÍÓÚ]/g,e=>{switch(e){case"\xc1":return"A";case"\xc9":return"E";case"\xcd":return"I";case"\xd3":return"O";case"\xda":return"U";default:return e}});let a=document.getElementById("main");a.classList.remove("animate__animated","animate__fadeOutUp"),a.classList.add("animate__animated","animate__fadeOutLeft"),a.style.opacity=0,a.style.zIndex=-1;let n=document.getElementById("gamev");isElementVisible(n)?n.classList.contains("animate__pulse")||(n.classList.remove("animate__animated","animate__fadeOutRight"),n.classList.remove("animate__animated","animate__fadeInRight"),n.classList.add("animate__animated","animate__pulse")):(n.classList.remove("animate__animated","animate__pulse"),n.classList.remove("animate__animated","animate__fadeOutRight"),n.classList.add("animate__animated","animate__fadeInRight"),n.style.opacity=1,n.style.zIndex=1),ctrl=!0;for(var i=0;i<rValue.length;i++)" "==rValue.charAt(i)?sel[i]="•":sel[i]=rValue.charAt(i);for(var l=0;l<sel.length;){var s=document.createElement("span");"•"==sel[l]?(s.classList.add("spaceline"),s.setAttribute("id","line"+l),s.innerHTML="•"):(s.classList.add("line"),s.setAttribute("id","line"+l)),document.getElementById("words").appendChild(s),l++}}).catch(e=>console.error(e))}function isElementVisible(e){let t=window.getComputedStyle(e).getPropertyValue("opacity");return"1"===t}function playcustom(){let e=document.getElementById("customMatch");e.classList.remove("animate__animated","animate__fadeOutUp"),e.classList.add("animate__animated","animate__fadeInUp"),e.style.opacity=1,e.style.zIndex=2;let t=document.querySelectorAll("#menubtn");t.forEach(e=>{e.disabled=!0})}function readyCG(){let e=document.getElementById("customMatch");e.classList.remove("animate__animated","animate__fadeInUp"),e.classList.add("animate__animated","animate__fadeOutUp"),e.style.opacity=0,e.style.zIndex=-1;let t=document.querySelectorAll("#menubtn");t.forEach(e=>{e.disabled=!0});let a=document.getElementById("opc1");if(a.checked)playind();else{let n=document.getElementById("myList");n.classList.remove("animate__animated","animate__fadeOutUp"),n.classList.add("animate__animated","animate__fadeInUp"),n.style.opacity=1,n.style.zIndex=2;let i=document.querySelectorAll("#menubtn");i.forEach(e=>{e.disabled=!0})}}const myTextarea=document.getElementById("taList"),saveButton=document.getElementById("saveList");function closeCard(){let e=document.querySelectorAll(".alert_card");e.forEach(function(e){e.style.opacity=0,e.classList.add("animate__animated","animate__fadeOutUp"),setTimeout(function(){e.style.zIndex=250},1)});let t=document.querySelectorAll("#menubtn");t.forEach(e=>{e.disabled=!1})}function playcust(){let e=document.querySelectorAll("#menubtn");e.forEach(e=>{e.disabled=!1}),document.getElementById("intent").innerHTML="<i class='fa-solid fa-heart'></i> "+intentos+"<span class='bubble-text'>Intentos</span>",match=2,rValue=arr[Math.floor(Math.random()*arr.length)];let t=document.getElementById("main");t.classList.remove("animate__animated","animate__fadeOutUp"),t.classList.add("animate__animated","animate__fadeOutLeft"),t.style.opacity=0,t.style.zIndex=-1;let a=document.getElementById("gamev");isElementVisible(a)?a.classList.contains("animate__pulse")||(a.classList.remove("animate__animated","animate__fadeOutRight"),a.classList.remove("animate__animated","animate__fadeInRight"),a.classList.add("animate__animated","animate__pulse")):(a.classList.remove("animate__animated","animate__pulse"),a.classList.remove("animate__animated","animate__fadeOutRight"),a.classList.add("animate__animated","animate__fadeInRight"),a.style.opacity=1,a.style.zIndex=1),ctrl=!0;for(var n=0;n<rValue.length;n++)" "==rValue.charAt(n)?sel[n]="•":sel[n]=rValue.charAt(n);for(var i=0;i<sel.length;){var l=document.createElement("span");"•"==sel[i]?(l.classList.add("spaceline"),l.setAttribute("id","line"+i),l.innerHTML="•"):(l.classList.add("line"),l.setAttribute("id","line"+i)),document.getElementById("words").appendChild(l),i++}}myTextarea.addEventListener("keydown",function(e){"Enter"===e.key&&e.preventDefault()}),myTextarea.value="",saveButton.addEventListener("click",()=>{let e=myTextarea.value.split(",").map(e=>e.trim());arr.length=0;let t=/^[a-zA-ZáéíóúÁÉÍÓÚ\s]+$/;e.forEach(e=>{if(t.test(e)){let a=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");""!==a&&arr.push(a.toUpperCase())}}),myTextarea.value="";let a=document.getElementById("myList");a.classList.remove("animate__animated","animate__fadeInUp"),a.classList.add("animate__animated","animate__fadeOutUp"),a.style.opacity=0,a.style.zIndex=-1,arr.length<=0?(alert("Has dejado la lista vac\xeda, se utilizar\xe1 la lista del sistema."),playind()):playcust()}),document.onkeypress=function(e){if(ctrl){var t=String.fromCharCode((e=e||window.event).keyCode||e.which);t.match(/[a-zA-Z\u00D1\u00F1]/g)&&getLetter(t.toUpperCase())}};var canvas=document.getElementById("cvDraw"),ctx=canvas.getContext("2d");function getLetter(e){if(0>badWord.indexOf(e)&&0>clickeados.indexOf(e)){if(sel.indexOf(e)>=0){clickeados.push(e);let t=document.getElementById(e);t.classList.add("goodWord");for(var a=0;a<sel.length;)sel[a]==e&&(document.getElementById("line"+a).innerHTML=e),a++}else{badWord.push(e);let n=document.getElementById(e);n.classList.add("badWord"),intentos--,document.getElementById("intent").innerHTML="<i class='fa-solid fa-heart'></i> "+intentos+"<span class='bubble-text'>Intentos</span>"}}if(document.getElementById("cvDraw"),ctx.beginPath(),9==intentos?ctx.fillRect(0,190,200,10):8==intentos?ctx.fillRect(40,0,10,200):7==intentos?ctx.fillRect(40,0,80,10):6==intentos?ctx.fillRect(110,0,10,40):5==intentos?(ctx.lineWidth=8,ctx.arc(114,58,20,0,2*Math.PI),ctx.stroke()):4==intentos?ctx.fillRect(110,80,10,40):3==intentos?(ctx.beginPath(),ctx.moveTo(114,118),ctx.lineTo(90,150),ctx.stroke()):2==intentos?(ctx.beginPath(),ctx.moveTo(114,118),ctx.lineTo(134,150),ctx.stroke()):1==intentos?(ctx.beginPath(),ctx.moveTo(114,80),ctx.lineTo(90,100),ctx.stroke()):0==intentos&&(ctx.beginPath(),ctx.moveTo(114,80),ctx.lineTo(134,100),ctx.stroke()),intentos<=0){let i=document.getElementById("lose");i.style.opacity=1,i.style.zIndex=2,i.classList.add("animate__animated","animate__zoomIn"),document.querySelectorAll("#finalw").forEach(function(e){e.innerHTML=rValue});let l=document.getElementById("gamev");l.opacity=0,ctrl=!1,resetStreak()}for(var s=0;s<sel.length&&document.getElementById("line"+s).innerText==sel[s];s++){;if(s>sel.length-2){let d=document.getElementById("win");d.style.opacity=1,d.style.zIndex=2,d.classList.add("animate__animated","animate__zoomIn"),document.querySelectorAll("#finalw").forEach(function(e){e.innerHTML=rValue});let c=document.getElementById("gamev");c.opacity=0,ctrl=!1,activateConfetti(),winStreak()}}}function winStreak(){streak++,document.getElementById("streak").innerHTML="<i class='fa-solid fa-fire fa-lg'></i> "+streak+"<span class='bubble-text'>Racha</span>"}function resetStreak(){streak=0,document.getElementById("streak").innerHTML="<i class='fa-solid fa-fire fa-lg'></i> "+streak+"<span class='bubble-text'>Racha</span>"}function playAgain(e){for(1==e&&resetStreak(),auxLinea=0;auxLinea<sel.length;)document.getElementById("line"+auxLinea).remove(),auxLinea++;ctx.clearRect(0,0,canvas.width,canvas.height);let t=document.getElementById("lose");t.style.opacity=0,t.style.zIndex=-1,t.classList.remove("animate__animated","animate__zoomIn");let a=document.getElementById("win");a.style.opacity=0,a.style.zIndex=-1,a.classList.remove("animate__animated","animate__zoomIn"),document.getElementById("finalw").innerHTML="",document.getElementById("gamev").classList.remove("animate__animated","animate__fadeInRight"),document.getElementById("gamev").classList.remove("animate__animated","animate__pulse");let n=document.querySelectorAll(".keyb");n.forEach(e=>e.classList.remove("badWord")),n.forEach(e=>e.classList.remove("goodWord"));let i=document.querySelectorAll(".keyb button");i.forEach(e=>e.removeAttribute("disabled")),sel=[],badWord=[],intentos=10,clickeados=[],ctrl=!0,2==match?playcust():playind()}function gotoMenu(){for(auxLinea=0;auxLinea<sel.length;)document.getElementById("line"+auxLinea).remove(),auxLinea++;ctx.clearRect(0,0,canvas.width,canvas.height);let e=document.getElementById("lose");e.style.opacity=0,e.style.zIndex=-1,e.classList.remove("animate__animated","animate__zoomIn");let t=document.getElementById("win");t.style.opacity=0,t.style.zIndex=-1,t.classList.remove("animate__animated","animate__zoomIn"),document.getElementById("finalw").innerHTML="";let a=document.querySelectorAll(".keyb");a.forEach(e=>e.classList.remove("badWord")),a.forEach(e=>e.classList.remove("goodWord"));let n=document.querySelectorAll(".keyb button");n.forEach(e=>e.removeAttribute("disabled")),sel=[],badWord=[],intentos=10,clickeados=[],ctrl=!1,resetStreak();let i=document.querySelectorAll(".alert_card");i.forEach(function(e){e.style.opacity=0,e.classList.remove("animate__animated","animate__fadeOutUp"),setTimeout(function(){e.style.zIndex=-1},250)});let l=document.getElementById("gamev");l.classList.remove("animate__animated","animate__fadeInRight","animate__pulse"),l.classList.add("animate__animated","animate__fadeOutRight"),l.style.opacity=0,l.style.zIndex=-1;let s=document.getElementById("main");s.classList.remove("animate__animated","animate__fadeOutLeft"),s.classList.add("animate__animated","animate__fadeInLeft"),s.style.opacity=1,s.style.zIndex=1}function config(){let e=document.getElementById("settings");e.classList.remove("animate__animated","animate__fadeOutUp"),e.classList.add("animate__animated","animate__fadeInUp"),e.style.zIndex=1,e.style.opacity=1}function soon(){alert("En desarrollo...")}ctx.fillStyle="#00C55D",ctx.strokeStyle="#00C55D";